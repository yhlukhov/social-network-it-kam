{"version":3,"sources":["components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","redux/dialogsSelectors.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","className","css","dialog","to","id","userItem","src","img","alt","userName","name","Message","message","NewMessageForm","sendMessage","onSubmit","values","messageText","render","handleSubmit","style","display","validate","composeValidators","required","maxLength","input","meta","ButtonSend","type","styled","button","Dialogs","dialogs","messages","dialogItems","map","messageItems","dialogsItems","getDialogs","state","messagesPage","getMessages","createSelector","filter","m","getNewMessageText","newMessageText","ActionCreators","compose","connect","withAuthRedirect"],"mappings":"4GACAA,EAAOC,QAAU,CAAC,OAAS,2BAA2B,SAAW,6BAA6B,SAAW,+B,qBCAzGD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,WAAa,8B,qBCArLD,EAAOC,QAAU,CAAC,QAAU,2B,oGCgBbC,EAbI,SAACC,GACjB,OACG,qBAAKC,UAAWC,IAAIC,OAApB,SACG,cAAC,IAAD,CAASC,GAAE,mBAAcJ,EAAMK,IAA/B,SACG,sBAAKJ,UAAWC,IAAII,SAApB,UACG,qBAAKC,IAAKP,EAAMQ,IAAKC,IAAI,KACzB,qBAAKR,UAAWC,IAAIQ,SAApB,SAA+BV,EAAMW,e,sCCCrCC,EARC,SAACZ,GACd,OACG,qBAAKC,UAAWC,IAAIW,QAApB,SACIb,EAAMa,W,4NCGhB,IAAMC,EAAiB,SAAC,GAEjB,IADLC,EACI,EADJA,YAKA,OACE,cAAC,IAAD,CAAMC,SAJS,SAACC,GAChBF,EAAYE,EAAOC,cAIjBC,OAAQ,gBAAEC,EAAF,EAAEA,aAAF,OACN,uBAAMJ,SAAUI,EAAcC,MAAO,CAACC,QAAQ,QAA9C,UACE,cAAC,IAAD,CAAOX,KAAK,cAAcY,SAAUC,YAAkBC,IAAUC,YAAU,KAA1E,SAEI,gBAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,KAAT,OACE,cAAC,IAAD,CAAWD,MAAOA,EAAOC,KAAMA,OAIrC,cAACC,EAAD,CAAYC,KAAK,SAAjB,iCAkCJD,EAAaE,IAAOC,OAAV,KAUDC,EArCC,SAAC,GAIV,IAHLC,EAGI,EAHJA,QACAC,EAEI,EAFJA,SACApB,EACI,EADJA,YAGMqB,EAAcF,EAAQG,KAAI,SAAClC,GAAD,OAC9B,cAAC,EAAD,CAAYQ,KAAMR,EAAOQ,KAAMN,GAAIF,EAAOE,GAAoBG,IAAKL,EAAOK,KAAvBL,EAAOE,OAEtDiC,EAAeH,EAASE,KAAI,SAACxB,GAAD,OAChC,cAAC,EAAD,CAASR,GAAIQ,EAAQR,GAAqBQ,QAASA,EAAQA,SAA7BA,EAAQR,OAGxC,OACE,sBAAKJ,UAAWoB,IAAMa,QAAtB,UACE,qBAAKjC,UAAWoB,IAAMkB,aAAtB,SAAqCH,IACrC,sBAAKnC,UAAWoB,IAAMc,SAAtB,UACGG,EACD,cAAC,EAAD,CAAgBvB,YAAaA,W,+BCjDxByB,EAAa,SAACC,GAC1B,OAAOA,EAAMC,aAAaR,SAMdS,EAAcC,aAHQ,SAACH,GACnC,OAAOA,EAAMC,aAAaP,YAEoC,SAACA,GAC/D,OAAOA,EAASU,QAAO,SAAAC,GAAC,OAAI,QAIhBC,EAAoB,SAACN,GACjC,OAAOA,EAAMC,aAAaM,gBCErBC,EAAiB,CACpBlC,iBAGYmC,sBACZC,aAbqB,SAACV,GACtB,MAAO,CACJP,QAASM,EAAWC,GACpBN,SAAUQ,EAAYF,GACtBO,eAAgBD,EAAkBN,MASZQ,GACzBG,IAFYF,CAGbjB","file":"static/js/4.4fb703d5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__3z_p5\",\"userItem\":\"DialogItem_userItem__3p69H\",\"userName\":\"DialogItem_userName__1b_ng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3RkWn\",\"dialogsItems\":\"Dialogs_dialogsItems__3hMR0\",\"active\":\"Dialogs_active__1ZT_e\",\"messages\":\"Dialogs_messages__1bxjj\",\"newMessage\":\"Dialogs_newMessage__3H3g6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__162wv\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport css from './DialogItem.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n   return (\r\n      <div className={css.dialog}>\r\n         <NavLink to={`/dialogs/${props.id}`}>\r\n            <div className={css.userItem}>\r\n               <img src={props.img} alt=\"\" />\r\n               <div className={css.userName}>{props.name}</div>\r\n            </div>\r\n         </NavLink>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default DialogItem","import React from 'react'\r\nimport css from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n   return (\r\n      <div className={css.message}>\r\n         {props.message}\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Message","import React from \"react\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport style from \"./Dialogs.module.css\";\r\nimport Message from \"./Message/Message\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport styled from \"styled-components\";\r\nimport { TextInput } from \"../Common/FormControls/FormControls\";\r\nimport { composeValidators, maxLength, required } from \"../../utils/validators\";\r\n\r\nconst NewMessageForm = ({\r\n  sendMessage,\r\n}) => {\r\n  const onSubmit = (values) => {\r\n    sendMessage(values.messageText)\r\n  }\r\n  return (\r\n    <Form onSubmit={onSubmit}\r\n      render={({handleSubmit}) => (\r\n        <form onSubmit={handleSubmit} style={{display:\"flex\"}}>\r\n          <Field name=\"messageText\" validate={composeValidators(required, maxLength(20))} >\r\n            {\r\n              ({input, meta}) => (\r\n                <TextInput input={input} meta={meta} />\r\n              )\r\n            }\r\n          </Field>\r\n          <ButtonSend type=\"submit\">Send message</ButtonSend>\r\n        </form>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nconst Dialogs = ({\r\n  dialogs,\r\n  messages,\r\n  sendMessage,\r\n}) => {\r\n  \r\n  const dialogItems = dialogs.map((dialog) => (\r\n    <DialogItem name={dialog.name} id={dialog.id} key={dialog.id} img={dialog.img} />\r\n  ));\r\n  const messageItems = messages.map((message) => (\r\n    <Message id={message.id} key={message.id} message={message.message} />\r\n  ));\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <div className={style.dialogsItems}>{dialogItems}</div>\r\n      <div className={style.messages}>\r\n        {messageItems}\r\n        <NewMessageForm sendMessage={sendMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n//* ------------ BLOCK CSS ------------- //\r\n\r\nconst ButtonSend = styled.button`\r\n  height: 34px;\r\n  border: 1px solid lightblue;\r\n  border-bottom-right-radius: 5px;\r\n  border-top-right-radius: 5px;\r\n`;\r\n\r\n\r\n//* ------------ EXPORT ------------- //\r\n\r\nexport default Dialogs;\r\n","import {createSelector} from 'reselect'\r\n\r\nexport const getDialogs = (state) => {\r\n\treturn state.messagesPage.dialogs\r\n}\r\n\r\nexport const getMessagesSelector = (state) => {\r\n\treturn state.messagesPage.messages\r\n}\r\nexport const getMessages = createSelector(getMessagesSelector, (messages) => {\r\n\treturn messages.filter(m => true)\r\n})\r\n\r\n\r\nexport const getNewMessageText = (state) => {\r\n\treturn state.messagesPage.newMessageText\r\n}\r\n\r\n","import {\r\n   sendMessage,\r\n} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from 'react-redux';\r\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getDialogs, getMessages, getNewMessageText } from \"../../redux/dialogsSelectors\";\r\n\r\nconst mapStateToProps = (state) => {\r\n   return {\r\n      dialogs: getDialogs(state),\r\n      messages: getMessages(state),\r\n      newMessageText: getNewMessageText(state),\r\n   }\r\n}\r\n\r\nconst ActionCreators = {\r\n   sendMessage\r\n}\r\n\r\nexport default compose(\r\n   connect(mapStateToProps, ActionCreators),\r\n   withAuthRedirect\r\n)(Dialogs)\r\n"],"sourceRoot":""}